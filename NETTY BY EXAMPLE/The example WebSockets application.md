WebSocket 程序示例
====

我们使用 WebSocket 协议来在浏览器实现实时聊天程序，就像在 Facebook 中文本聊天一样。在这里，我们将进一步了解其实现。在这个应用程序中，不同的用户可以同时交谈

Figure 11.1 Application logic

![](../images/Figure 11.1 Application logic.jpg)

＃1客户端/用户连接到服务器，并且是聊天的一部分

＃2聊天消息通过 WebSocket 进行交换

＃3消息双向发送

＃4服务器处理所有的客户端/用户

逻辑很简单：

* 1.客户端发送一个消息。
* 2.消息被广播到所有其他连接的客户端。

这仅仅是你期望的聊天室的工作：每个人都可以跟其他人聊天。此例子将仅提供服务器端，在客户端是访问聊天浏览器的网页。正如您将在接下来看到的，WebSocket 让这一切变得更简单。

